<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Souza & Laia | Art Photography</title>
    
    <!-- Estilos e Fontes -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300&family=Inter:wght@200;300;400;600&display=swap');
        body { font-family: 'Inter', sans-serif; overflow-x: hidden; }
        .font-serif { font-family: 'Cormorant Garamond', serif; }
        @keyframes subtle-zoom { from { transform: scale(1); } to { transform: scale(1.1); } }
        .animate-zoom { animation: subtle-zoom 30s infinite alternate; }
        html { scroll-behavior: smooth; }
        .selection-amber::selection { background: #fef3c7; color: #92400e; }
        .loader { border: 2px solid #f3f3f3; border-top: 2px solid #78716c; border-radius: 50%; width: 20px; height: 20px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>

    <!-- Bibliotecas -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-white text-stone-900 selection-amber">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 1. CONFIGURAÇÃO FIREBASE ---
        const firebaseConfig = {
            apiKey: "AIzaSyDIwpQtKwxy4AWjsPIQ8t0IieWEmyBjtwY",
            authDomain: "sitefotografia-cfa61.firebaseapp.com",
            projectId: "sitefotografia-cfa61",
            storageBucket: "sitefotografia-cfa61.firebasestorage.app",
            messagingSenderId: "849725176102",
            appId: "1:849725176102:web:0b5e6106fe69ce4c6429e7",
        };

        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const auth = firebase.auth();
        const db = firebase.firestore();
        const appId = "site-fotografia-thamiris"; // ID fixo para consistência

        // --- 2. COMPONENTE DE ÍCONE (CORREÇÃO DE ERRO) ---
        const Icon = ({ name, size = 24, className = "" }) => {
            const iconData = lucide.icons[name];
            if (!iconData) return null;
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {iconData.map((child, index) => React.createElement(child[0], { ...child[1], key: index }))}
                </svg>
            );
        };

        // --- 3. APLICAÇÃO PRINCIPAL ---
        const App = () => {
            const [user, setUser] = useState(null);
            const [portfolio, setPortfolio] = useState([]);
            const [loading, setLoading] = useState(true);
            const [scrolled, setScrolled] = useState(false);
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
            const [isAdminOpen, setIsAdminOpen] = useState(false);
            const [isAuthorized, setIsAuthorized] = useState(false);
            const [password, setPassword] = useState('');
            const [selectedGallery, setSelectedGallery] = useState(null);
            const [editingAlbum, setEditingAlbum] = useState(null);
            const [uploading, setUploading] = useState(false);
            
            // Dados estáticos que não mudam
            const staticImages = {
                hero: "https://images.unsplash.com/photo-1452587925148-ce544e77e70d?q=80&w=3840",
                trajetoria: "https://i.postimg.cc/5tqSY2qC/IMG-7807.jpg",
                tecnologia: "https://i.postimg.cc/dQdNwwg9/Canon-EOS-R100-by-Henry-Soderlund.jpg"
            };

            const [formData, setFormData] = useState({ nome: '', email: '', mensagem: '' });

            // Autenticação Silenciosa
            useEffect(() => {
                const unsubscribe = auth.onAuthStateChanged(u => {
                    setUser(u);
                    if (!u) auth.signInAnonymously().catch(console.error);
                });
                return unsubscribe;
            }, []);

            // Carregar Portfólio do Firebase
            useEffect(() => {
                const unsubscribe = db.collection(`artifacts/${appId}/public/data/portfolio`)
                    .onSnapshot(snapshot => {
                        const data = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                        // Se não houver dados no banco, usa dados de exemplo (fallback)
                        if (data.length === 0) {
                            setPortfolio([
                                { 
                                    id: 'ex1', title: "Essência Urbana", category: "Ensaio Casal", 
                                    coverUrl: "https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?q=80&w=2070",
                                    images: ["https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?q=80&w=2070"]
                                }
                            ]);
                        } else {
                            setPortfolio(data);
                        }
                        setLoading(false);
                    }, err => {
                        console.error("Erro ao carregar:", err);
                        setLoading(false);
                    });
                return unsubscribe;
            }, []);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            // --- FUNÇÕES DE ADMINISTRAÇÃO (FIREBASE) ---
            const addAlbum = async () => {
                if (!isAuthorized) return;
                const newAlbum = {
                    title: "Novo Álbum",
                    category: "Categoria",
                    coverUrl: "https://images.unsplash.com/photo-1542038784456-1ea8e935640e?q=80&w=2070",
                    images: [],
                    createdAt: new Date().toISOString()
                };
                try {
                    const docRef = await db.collection(`artifacts/${appId}/public/data/portfolio`).add(newAlbum);
                    setEditingAlbum({ id: docRef.id, ...newAlbum });
                } catch (e) { alert("Erro ao criar. Verifique sua conexão."); }
            };

            const deleteAlbum = async (id) => {
                if (!isAuthorized || !confirm("Tem a certeza? Isso apagará o álbum permanentemente.")) return;
                await db.doc(`artifacts/${appId}/public/data/portfolio/${id}`).delete();
            };

            const updateAlbum = async (id, data) => {
                await db.doc(`artifacts/${appId}/public/data/portfolio/${id}`).update(data);
            };

            const handleFileUpload = async (e, albumId) => {
                const files = Array.from(e.target.files);
                if (!files.length) return;
                setUploading(true);

                // Processa cada arquivo
                for (const file of files) {
                    const reader = new FileReader();
                    reader.readAsDataURL(file);
                    reader.onloadend = async () => {
                        const base64 = reader.result;
                        await db.doc(`artifacts/${appId}/public/data/portfolio/${albumId}`).update({
                            images: firebase.firestore.FieldValue.arrayUnion(base64)
                        });
                        // Atualiza estado local se estiver editando
                        if (editingAlbum && editingAlbum.id === albumId) {
                            setEditingAlbum(prev => ({ ...prev, images: [...prev.images, base64] }));
                        }
                    };
                }
                setUploading(false);
            };

            const removeImage = async (albumId, imgUrl) => {
                await db.doc(`artifacts/${appId}/public/data/portfolio/${albumId}`).update({
                    images: firebase.firestore.FieldValue.arrayRemove(imgUrl)
                });
                if (editingAlbum) {
                    setEditingAlbum(prev => ({ ...prev, images: prev.images.filter(i => i !== imgUrl) }));
                }
            };

            const handleAdminLogin = (e) => {
                e.preventDefault();
                if (password === 'thamiris123') { 
                    setIsAuthorized(true);
                    setIsAdminOpen(false);
                    setPassword('');
                } else { alert('Senha incorreta.'); }
            };

            const sendWhatsApp = (e) => {
                e.preventDefault();
                const text = `Olá! Meu nome é ${formData.nome}. Gostaria de fazer parte da vossa história.\n\nE-mail: ${formData.email}\nSobre o evento: ${formData.mensagem}`;
                const url = `https://wa.me/5511993453280?text=${encodeURIComponent(text)}`;
                window.open(url, '_blank');
            };

            return (
                <div className={`min-h-screen ${isAuthorized ? 'pt-12' : ''}`}>
                    
                    {/* BARRA DE ADMIN */}
                    {isAuthorized && (
                        <div className="fixed top-0 w-full bg-stone-900 text-white h-12 z-[100] flex items-center justify-between px-6 border-b border-white/10 text-xs font-bold tracking-widest uppercase">
                            <div className="flex items-center gap-4">
                                <span className="text-amber-400 flex items-center gap-2"><Icon name="Settings" size={14} /> Painel de Controle</span>
                                <button onClick={addAlbum} className="bg-white/10 hover:bg-white/20 px-3 py-1 rounded flex items-center gap-2 transition-all">
                                    <Icon name="Plus" size={14} /> Novo Álbum
                                </button>
                            </div>
                            <button onClick={() => setIsAuthorized(false)} className="text-red-400 hover:text-red-300">Sair</button>
                        </div>
                    )}

                    {/* NAVEGAÇÃO */}
                    <nav className={`fixed w-full z-50 transition-all duration-700 ${scrolled || isMobileMenuOpen ? 'bg-white/95 py-3 shadow-sm' : 'bg-transparent py-6 md:py-10'}`}>
                        <div className="max-w-7xl mx-auto px-6 md:px-8 flex justify-between items-center">
                            <div className={`text-lg md:text-2xl font-light tracking-[0.3em] uppercase transition-all duration-500 ${scrolled || isMobileMenuOpen ? 'text-stone-800' : 'text-white'}`}>
                                Souza <span className={`font-serif italic ${scrolled || isMobileMenuOpen ? 'text-stone-400' : 'text-white/80'}`}>&</span> Laia
                            </div>
                            
                            <div className="hidden md:flex items-center space-x-12">
                                {['Início', 'Portfolio', 'Trajetória', 'Tecnologia', 'Orçamento'].map((item) => (
                                    <a key={item} href={`#${item.toLowerCase()}`} className={`text-[10px] uppercase tracking-[0.2em] font-semibold transition-all duration-300 ${scrolled ? 'text-stone-600 hover:text-stone-900' : 'text-white/80 hover:text-white'}`}>
                                        {item}
                                    </a>
                                ))}
                                <a href="https://instagram.com/souzaelaia.artphotography" target="_blank" className={scrolled ? 'text-stone-900' : 'text-white'}>
                                    <Icon name="Instagram" size={20} />
                                </a>
                            </div>

                            <button onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)} className={`md:hidden ${scrolled || isMobileMenuOpen ? 'text-stone-900' : 'text-white'}`}>
                                <Icon name={isMobileMenuOpen ? "X" : "Menu"} size={24} />
                            </button>
                        </div>

                        {/* Mobile Menu */}
                        {isMobileMenuOpen && (
                            <div className="md:hidden bg-white border-t border-stone-100 px-8 py-10 flex flex-col gap-6">
                                {['Início', 'Portfolio', 'Trajetória', 'Tecnologia', 'Orçamento'].map((item) => (
                                    <a key={item} onClick={() => setIsMobileMenuOpen(false)} href={`#${item.toLowerCase()}`} className="text-sm uppercase tracking-[0.3em] font-medium text-stone-600">{item}</a>
                                ))}
                            </div>
                        )}
                    </nav>

                    {/* HERO */}
                    <section id="início" className="h-[100dvh] relative flex items-center justify-center overflow-hidden bg-black">
                        <div className="absolute inset-0 z-0">
                            <img src={staticImages.hero} className="w-full h-full object-cover opacity-60 animate-zoom" />
                            <div className="absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-black/60"></div>
                        </div>
                        <div className="relative z-10 text-center px-6 max-w-5xl">
                            <span className="block text-white/90 text-[10px] md:text-xs uppercase tracking-[0.8em] mb-8 font-medium">Thamiris Souza & Felipe Laia</span>
                            <h1 className="mobile-title text-5xl md:text-[110px] font-serif text-white leading-none mb-14 tracking-tighter drop-shadow-2xl">
                                Eternizando <br/> <span className="italic font-light opacity-95">Sentimentos</span>
                            </h1>
                            <div className="flex flex-col md:flex-row items-center justify-center gap-6">
                                <a href="#portfolio" className="bg-white text-stone-900 px-12 py-5 text-[10px] uppercase tracking-[0.4em] font-bold shadow-xl hover:bg-stone-100 transition-all w-full md:w-auto">Ver Portfólio</a>
                                <a href="#orçamento" className="border-2 border-white/60 text-white px-12 py-5 text-[10px] uppercase tracking-[0.4em] font-bold hover:bg-white/10 transition-all backdrop-blur-sm w-full md:w-auto">Orçamento</a>
                            </div>
                        </div>
                    </section>

                    {/* PORTFOLIO */}
                    <section id="portfolio" className="py-20 md:py-32 px-6 md:px-8 max-w-7xl mx-auto">
                        <div className="mb-20 text-center md:text-left">
                            <span className="text-stone-400 text-[10px] uppercase tracking-[0.4em]">Curadoria Visual</span>
                            <h2 className="text-4xl md:text-5xl font-serif mt-4 italic">Nosso Olhar</h2>
                        </div>

                        {loading ? (
                            <div className="flex justify-center py-20"><div className="loader"></div></div>
                        ) : (
                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12">
                                {isAuthorized && (
                                    <button onClick={addAlbum} className="border-2 border-dashed border-stone-200 aspect-[4/5] flex flex-col items-center justify-center group hover:bg-stone-50 transition-all">
                                        <Icon name="Plus" size={32} className="text-stone-300 group-hover:text-stone-500 mb-4" />
                                        <span className="text-[10px] uppercase tracking-widest text-stone-400 font-bold">Criar Álbum</span>
                                    </button>
                                )}

                                {portfolio.map((item) => (
                                    <div key={item.id} className="relative group">
                                        <div onClick={() => setSelectedGallery(item)} className="relative overflow-hidden bg-stone-100 aspect-[4/5] cursor-pointer">
                                            <img src={item.coverUrl} className="w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-110" />
                                            <div className="absolute inset-0 bg-stone-900/40 opacity-0 group-hover:opacity-100 transition-all duration-700 flex flex-col justify-end p-8">
                                                <span className="text-white/60 text-[9px] uppercase tracking-widest mb-2 font-bold">{item.category}</span>
                                                <h3 className="text-white text-xl md:text-2xl font-serif italic">{item.title}</h3>
                                            </div>
                                        </div>
                                        {isAuthorized && (
                                            <div className="absolute top-4 right-4 z-20 flex gap-2">
                                                <button onClick={() => setEditingAlbum(item)} className="bg-white p-2 rounded-full shadow-lg hover:bg-amber-50 text-stone-800"><Icon name="Edit3" size={16} /></button>
                                                <button onClick={() => deleteAlbum(item.id)} className="bg-white p-2 rounded-full shadow-lg hover:bg-red-50 text-red-500"><Icon name="Trash2" size={16} /></button>
                                            </div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        )}
                    </section>

                    {/* TRAJETÓRIA */}
                    <section id="trajetória" className="py-20 md:py-32 bg-stone-50 overflow-hidden px-6 md:px-8">
                        <div className="max-w-7xl mx-auto flex flex-col lg:flex-row gap-16 md:gap-24 items-center">
                            <div className="w-full lg:w-1/2">
                                <div className="aspect-[3/4] rounded-sm overflow-hidden shadow-2xl ring-8 md:ring-[12px] ring-white transform -rotate-1 hover:rotate-0 transition-all duration-1000">
                                    <img src={staticImages.trajetoria} className="w-full h-full object-cover" alt="Trajetória" />
                                </div>
                            </div>
                            <div className="w-full lg:w-1/2 space-y-8 md:space-y-12">
                                <div className="space-y-4">
                                    <span className="text-stone-400 text-[10px] uppercase tracking-[0.4em] font-semibold block">Nossa Essência</span>
                                    <h2 className="text-5xl md:text-7xl font-serif leading-tight">Um amor que se <br/><span className="italic text-stone-800">torna arte.</span></h2>
                                </div>
                                <div className="space-y-6 md:space-y-8 text-stone-600 leading-relaxed text-lg md:text-xl font-light">
                                    <p>O que começou como uma admiração mútua pelo mundo através das lentes, transformou-se em uma missão de vida compartilhada. <strong>Thamiris Souza e Felipe Laia</strong> não são apenas fotógrafos; são parceiros que acreditam que a beleza reside na verdade do momento.</p>
                                    <p className="italic text-stone-500 font-serif text-xl md:text-2xl border-l-2 border-stone-200 pl-6 py-2">
                                        "Nós não tiramos fotos, nós guardamos sentimentos. Nossa trajetória é marcada pela busca incessante da luz."
                                    </p>
                                    <p>Unimos a sensibilidade feminina ao rigor técnico, criando uma linguagem visual que é, ao mesmo tempo, moderna e atemporal. Para nós, cada clique é uma promessa: a de que aquele instante nunca será esquecido.</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* TECNOLOGIA */}
                    <section id="tecnologia" className="py-20 md:py-32 bg-stone-900 text-white px-6 md:px-8">
                        <div className="max-w-7xl mx-auto flex flex-col lg:flex-row items-center gap-12 md:gap-24">
                            <div className="w-full lg:w-1/2 relative">
                                <div className="absolute -inset-10 bg-amber-400/5 rounded-full blur-3xl"></div>
                                <img src={staticImages.tecnologia} className="w-full h-auto grayscale hover:grayscale-0 transition-all duration-1000 shadow-2xl relative z-10 rounded-sm" />
                            </div>
                            <div className="w-full lg:w-1/2 space-y-8 md:space-y-10">
                                <div className="space-y-4">
                                    <span className="text-amber-400 text-[10px] uppercase tracking-[0.5em] font-bold">Infraestrutura Premium</span>
                                    <h2 className="text-4xl md:text-5xl font-serif italic leading-tight">Precisão Técnica <br/>para Memórias Reais</h2>
                                </div>
                                <div className="space-y-6 text-stone-400 text-base md:text-lg font-light leading-relaxed">
                                    <p>A tecnologia existe para servir ao momento. Com a <strong>Canon EOS R100</strong>, garantimos que o seu dia especial seja registrado com a nitidez e a profundidade que ele merece.</p>
                                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-6 md:gap-8 mt-8">
                                        <div className="p-6 bg-white/5 rounded-sm border border-white/5">
                                            <div className="flex items-center gap-3 mb-2 text-amber-400">
                                                <Icon name="Maximize" size={20} />
                                                <span className="text-[10px] font-bold uppercase tracking-widest text-white">Resolução Impecável</span>
                                            </div>
                                            <p className="text-xs text-stone-500">Detalhes para ampliações de luxo.</p>
                                        </div>
                                        <div className="p-6 bg-white/5 rounded-sm border border-white/5">
                                            <div className="flex items-center gap-3 mb-2 text-amber-400">
                                                <Icon name="Zap" size={20} />
                                                <span className="text-[10px] font-bold uppercase tracking-widest text-white">Foco Instantâneo</span>
                                            </div>
                                            <p className="text-xs text-stone-500">Detecção facial precisa.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* ORÇAMENTO */}
                    <section id="orçamento" className="py-20 md:py-32 bg-white px-6 md:px-8">
                        <div className="max-w-5xl mx-auto">
                            <div className="text-center mb-16 md:mb-20 space-y-4">
                                <div className="inline-flex items-center gap-3 px-6 py-2 bg-stone-100 rounded-full text-[10px] font-bold uppercase tracking-[0.3em] text-stone-500">
                                    <Icon name="Sparkles" size={14} className="text-amber-500" /> Consultoria Exclusiva
                                </div>
                                <h2 className="text-4xl md:text-6xl font-serif leading-tight">Pronta para tornar seu <br/><span className="italic">sonho eterno?</span></h2>
                            </div>

                            <div className="bg-white border border-stone-100 shadow-xl p-8 md:p-16">
                                <form onSubmit={sendWhatsApp} className="space-y-8 md:space-y-12">
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
                                        <div className="space-y-2 text-left">
                                            <label className="text-[9px] font-bold uppercase tracking-widest text-stone-400">Seu Nome</label>
                                            <input required className="w-full border-b border-stone-200 py-3 outline-none text-[12px] tracking-widest uppercase focus:border-stone-900 transition-colors" value={formData.nome} onChange={(e) => setFormData({...formData, nome: e.target.value})} />
                                        </div>
                                        <div className="space-y-2 text-left">
                                            <label className="text-[9px] font-bold uppercase tracking-widest text-stone-400">E-mail</label>
                                            <input required type="email" className="w-full border-b border-stone-200 py-3 outline-none text-[12px] tracking-widest uppercase focus:border-stone-900 transition-colors" value={formData.email} onChange={(e) => setFormData({...formData, email: e.target.value})} />
                                        </div>
                                    </div>
                                    <div className="space-y-2 text-left">
                                        <label className="text-[9px] font-bold uppercase tracking-widest text-stone-400">Conte-nos sobre o seu sonho</label>
                                        <textarea required rows="4" className="w-full border-b border-stone-200 py-3 outline-none text-[12px] tracking-widest uppercase resize-none focus:border-stone-900 transition-colors" value={formData.mensagem} onChange={(e) => setFormData({...formData, mensagem: e.target.value})}></textarea>
                                    </div>
                                    <div className="flex flex-col md:flex-row items-center justify-between gap-8 pt-6">
                                        <div className="flex items-center gap-4 text-stone-400">
                                            <div className="flex -space-x-3">
                                                {[1, 2, 3].map(i => <div key={i} className="w-8 h-8 rounded-full border-2 border-white bg-stone-100 flex items-center justify-center text-amber-500"><Icon name="Heart" size={12} className="fill-current" /></div>)}
                                            </div>
                                            <span className="text-[9px] uppercase font-bold tracking-widest">Faça parte da nossa história</span>
                                        </div>
                                        <button className="w-full md:w-auto bg-stone-900 text-white px-12 py-5 text-[10px] uppercase tracking-[0.4em] font-bold flex items-center justify-center gap-4 hover:bg-stone-800 transition-all shadow-xl">
                                            <Icon name="Phone" size={14} /> Solicitar Proposta
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </section>

                    {/* RODAPÉ */}
                    <footer className="py-16 bg-stone-50 text-center border-t border-stone-100 px-6">
                        <div className="text-xl font-light tracking-[0.4em] uppercase mb-8 text-stone-800">Souza <span className="italic text-stone-400">&</span> Laia</div>
                        <p className="text-[9px] text-stone-300 tracking-[0.2em] mb-6">© 2026 SOUZA & LAIA ART PHOTOGRAPHY • TODOS OS DIREITOS RESERVADOS</p>
                        
                        {/* Cadeado de Admin */}
                        {!isAuthorized && (
                            <button onClick={() => setIsAdminOpen(true)} className="opacity-40 hover:opacity-100 transition-all p-4">
                                <Icon name="Lock" size={16} className="text-stone-400 mx-auto" />
                            </button>
                        )}
                    </footer>

                    {/* MODAL EDITOR DE ÁLBUM */}
                    {editingAlbum && (
                        <div className="fixed inset-0 z-[150] bg-stone-900 overflow-y-auto p-6 md:p-12 text-white">
                            <div className="max-w-5xl mx-auto">
                                <div className="flex justify-between items-center mb-12 border-b border-white/10 pb-6">
                                    <h3 className="text-2xl font-serif italic">Editando: {editingAlbum.title}</h3>
                                    <button onClick={() => setEditingAlbum(null)} className="p-2 bg-white/10 rounded-full hover:bg-white/20"><Icon name="X" size={24} /></button>
                                </div>

                                <div className="grid md:grid-cols-2 gap-12 mb-16 text-left">
                                    <div className="space-y-6">
                                        <div className="space-y-2">
                                            <label className="text-[9px] uppercase font-bold tracking-widest text-stone-500">Título</label>
                                            <input className="w-full bg-white/5 border border-white/10 p-4 outline-none focus:border-amber-400" value={editingAlbum.title} onChange={(e) => { const v = e.target.value; updateAlbum(editingAlbum.id, {title: v}); setEditingAlbum({...editingAlbum, title: v}); }} />
                                        </div>
                                        <div className="space-y-2">
                                            <label className="text-[9px] uppercase font-bold tracking-widest text-stone-500">Categoria</label>
                                            <input className="w-full bg-white/5 border border-white/10 p-4 outline-none focus:border-amber-400" value={editingAlbum.category} onChange={(e) => { const v = e.target.value; updateAlbum(editingAlbum.id, {category: v}); setEditingAlbum({...editingAlbum, category: v}); }} />
                                        </div>
                                    </div>
                                    <div className="bg-white/5 border border-dashed border-white/20 flex flex-col items-center justify-center p-8">
                                        {uploading ? <div className="loader mb-4"></div> : <Icon name="Upload" size={32} className="text-stone-500 mb-4" />}
                                        <p className="text-sm text-stone-400 mb-4 italic">Selecione arquivos do computador</p>
                                        <label className="bg-amber-400 text-stone-900 px-8 py-3 text-[10px] uppercase font-bold tracking-widest cursor-pointer hover:bg-amber-300">
                                            Carregar Fotos
                                            <input type="file" multiple accept="image/*" className="hidden" onChange={(e) => handleFileUpload(e, editingAlbum.id)} />
                                        </label>
                                    </div>
                                </div>

                                <h4 className="text-[10px] uppercase tracking-widest text-amber-400 mb-6 font-bold text-left">Fotos ({editingAlbum.images?.length || 0})</h4>
                                <div className="grid grid-cols-2 sm:grid-cols-4 gap-4">
                                    {editingAlbum.images?.map((img, i) => (
                                        <div key={i} className="relative aspect-square bg-stone-800 group border border-white/5">
                                            <img src={img} className="w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity" />
                                            {editingAlbum.coverUrl === img && <div className="absolute top-2 left-2 bg-amber-400 text-stone-900 p-1 rounded-full"><Icon name="Star" size={12} className="fill-current" /></div>}
                                            <div className="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2">
                                                <button onClick={() => { updateAlbum(editingAlbum.id, { coverUrl: img }); setEditingAlbum({...editingAlbum, coverUrl: img}); }} className="p-2 bg-white text-stone-900 rounded-full" title="Capa"><Icon name="Check" size={14} /></button>
                                                <button onClick={() => removeImage(editingAlbum.id, img)} className="p-2 bg-red-500 text-white rounded-full"><Icon name="Trash2" size={14} /></button>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}

                    {/* LOGIN */}
                    {isAdminOpen && (
                        <div className="fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-sm p-6">
                            <div className="bg-white p-12 max-w-sm w-full relative shadow-2xl">
                                <button onClick={() => setIsAdminOpen(false)} className="absolute top-4 right-4 text-stone-400"><Icon name="X" size={20} /></button>
                                <form onSubmit={handleAdminLogin} className="space-y-8 text-center">
                                    <h3 className="font-serif italic text-2xl text-stone-800">Área Restrita</h3>
                                    <input type="password" value={password} onChange={(e) => setPassword(e.target.value)} placeholder="SENHA" className="w-full border-b-2 border-stone-200 py-3 text-center text-lg outline-none tracking-widest uppercase focus:border-stone-900" autoFocus />
                                    <button className="w-full bg-stone-900 text-white py-4 text-[10px] uppercase font-bold tracking-widest">Entrar</button>
                                </form>
                            </div>
                        </div>
                    )}

                    {/* LIGHTBOX */}
                    {selectedGallery && !editingAlbum && (
                        <div className="fixed inset-0 z-[100] bg-white flex flex-col animate-in fade-in duration-300">
                            <div className="p-6 md:p-8 flex justify-between items-center border-b border-stone-100">
                                <div className="text-left">
                                    <span className="text-stone-400 text-[9px] uppercase tracking-[0.3em] font-bold">{selectedGallery.category}</span>
                                    <h3 className="text-xl md:text-2xl font-serif italic">{selectedGallery.title}</h3>
                                </div>
                                <button onClick={() => setSelectedGallery(null)} className="p-2 text-stone-400 hover:text-stone-900"><Icon name="X" size={28} /></button>
                            </div>
                            <div className="flex-1 overflow-y-auto p-4 md:p-12 bg-stone-50">
                                <div className="max-w-6xl mx-auto space-y-12">
                                    {selectedGallery.images?.length > 0 ? (
                                        selectedGallery.images.map((img, i) => (
                                            <img key={i} src={img} className="w-full h-auto shadow-2xl bg-white p-2" />
                                        ))
                                    ) : (
                                        <div className="text-center py-20 text-stone-400 font-serif italic">Álbum vazio.</div>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>


